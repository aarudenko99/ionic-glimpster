<ion-header class="top_image">
  <ion-row>
    <ion-col size="12" class="icon_wrap">
      <ion-icon name="earth-outline" class="world" routerLink="/tabs/tab2"></ion-icon>
      <ion-searchbar></ion-searchbar>
      <!-- <ion-img *ngIf="avatarImage" [src]="imageBaseUrl+avatarImage" routerLink="/profile"></ion-img> -->
      <ion-icon name="person-circle-outline" routerLink="/profile"></ion-icon>
    </ion-col>
    <ion-col size="12" class="activeContest">
      <span>Contests</span>
      <span class="viewAll" routerLink="/all-contests">View all</span>
    </ion-col>
  </ion-row>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-row *ngFor="let post of posts">
    <ion-col size="12">
      <div class="user_info">
        <div><img [src]="post.user_image ? imageBaseUrl+post.user_image : placeholderImage" class="avatar"/></div>
        <div>
          <div class="username">{{post.username}}</div>
          <div class="postdate">{{post.created_at}}</div>
        </div>
        <div class="wrap_icon">
          <ion-icon name="ellipsis-vertical-outline" (click)="viewMore(post.user_id, post.id)"></ion-icon>
        </div>
      </div>
    </ion-col>
    <ion-col size="12">
      <img *ngIf="post.post_type == 'image'" [src]="imageBaseUrl+post.media" class="postimage"/>
      <video controls *ngIf="post.post_type == 'video'" class="postimage">
        <source [src]="imageBaseUrl+'video/'+post.media" type="video/mp4">
      </video>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{post.post_text}}</ion-label>
    </ion-col>
    <ion-col size="12" class="iconwrap">
      <div><ion-icon [name]="post.likes > 0 ? 'heart' : 'heart-outline'" (click)="changeLikes(post.id)"></ion-icon>{{post.likes}}</div>
      <div><ion-icon name="mail" (click)="editComment(post.user_id, post.id)"></ion-icon><span>{{post.comments}}</span></div>
      <div>
        <ion-icon name="share-social" (click)="sendShare(post.post_text, post.post_type == 'image' ? imageBaseUrl+post.media : imageBaseUrl+'video/'+post.media)"></ion-icon>
        <span>{{post.share_status}}</span>
      </div>
    </ion-col>
    <ion-col size="10" class="sendwrap">
      <ion-input type="text" [id]="'comment' + post.id"></ion-input>
      <span item-right><ion-icon name="send" (click)="addComment(post.id)"></ion-icon></span>
    </ion-col>
  </ion-row>
</ion-content>
